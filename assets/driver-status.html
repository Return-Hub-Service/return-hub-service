<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReturnRun - Driver Status</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Navigation -->
    <nav class="nav-container">
        <div class="nav-inner">
            <a class="logo" href="home.html">
                <div class="logo-icon">ðŸ“¦</div>
                ReturnRun
            </a>
            <div class="nav-links">
                <a class="nav-link" href="request.html">Return</a>
                <a class="nav-link" href="driver-status.html">Earn</a>
                <a class="nav-link" href="help.html">About</a>
                <a class="nav-link" href="help.html">Help</a>
            </div>
            <div class="nav-right">
                <div class="user-dropdown">
                    <div class="user-btn">Michael <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m6 9 6 6 6-6"/></svg></div>
                    <div class="user-dropdown-menu">
                        <a class="dropdown-item" href="#">My Routes</a>
                        <a class="dropdown-item" href="#">Earnings</a>
                        <a class="dropdown-item" href="home.html">Sign Out</a>
                    </div>
                </div>
                <div class="hamburger" onclick="toggleMenu()"><span></span><span></span><span></span></div>
            </div>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu" id="mobileMenu">
        <a class="mobile-menu-link" href="request.html">Return</a>
        <a class="mobile-menu-link" href="driver-status.html">Earn</a>
        <a class="mobile-menu-link" href="help.html">About</a>
        <a class="mobile-menu-link" href="help.html">Help</a>
    </div>

    <!-- Main Content -->
    <main class="main-content">
        <div class="driver-container animate-fade">
            
            <!-- Driver Header with Timeline -->
            <div class="driver-header">
                <div class="driver-info">
                    <h1 class="driver-title">ðŸ“¦ Package Status</h1>
                    <div class="driver-meta">
                        Driver: Michael Chen<br>
                        Route: Sunset Heights
                    </div>
                </div>

                <div style="position: relative;">
                    <div class="timeline-line">
                        <div class="timeline-progress" id="timelineProgress" style="width: 0%;"></div>
                    </div>
                    <div class="status-timeline">
                        <div class="timeline-step">
                            <div class="timeline-dot active" id="dot1">1</div>
                            <span class="timeline-label active" id="label1">On the Way</span>
                        </div>
                        <div class="timeline-step">
                            <div class="timeline-dot" id="dot2">2</div>
                            <span class="timeline-label" id="label2">Picked Up</span>
                        </div>
                        <div class="timeline-step">
                            <div class="timeline-dot" id="dot3">3</div>
                            <span class="timeline-label" id="label3">Delivered</span>
                        </div>
                        <div class="timeline-step">
                            <div class="timeline-dot" id="dot4">4</div>
                            <span class="timeline-label" id="label4">Returned</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Status Content - On The Way -->
            <div class="status-card" id="statusOtw">
                <h2 class="status-content-title">En Route to Pickup</h2>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">Navigate to the pickup location and collect all packages.</p>
                
                <div style="background: var(--bg-secondary); border-radius: var(--radius); padding: 20px; margin-bottom: 24px;">
                    <div style="font-weight: 600; margin-bottom: 8px;">Pickup Location</div>
                    <div style="color: var(--text-secondary);">123 Main Street, Apt 4B<br>Hendersonville, NC 28792</div>
                    <a href="#" style="color: var(--primary); font-weight: 600; margin-top: 12px; display: inline-block;">Open in Maps â†’</a>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary btn-lg btn-full" onclick="setStatus(1)">
                        Confirm Arrival
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                    </button>
                </div>
            </div>

            <!-- Status Content - Picked Up -->
            <div class="status-card" id="statusPickup" style="display: none;">
                <h2 class="status-content-title">Confirm Package Pickup</h2>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">Please confirm that you have picked up all packages listed below:</p>
                
                <div class="package-list">
                    <div class="package-item selected" onclick="togglePackage(this)">
                        <div class="package-info">
                            <div class="package-id">PKG-2025-001</div>
                            <div class="package-meta">John Doe (Apt 4B) | Amazon | 1Z999AA10123456784</div>
                        </div>
                        <div class="package-checkbox checked">âœ“</div>
                    </div>
                    <div class="package-item selected" onclick="togglePackage(this)">
                        <div class="package-info">
                            <div class="package-id">PKG-2025-002</div>
                            <div class="package-meta">Jane Smith (Apt 2A) | FedEx | 774901238456</div>
                        </div>
                        <div class="package-checkbox checked">âœ“</div>
                    </div>
                    <div class="package-item selected" onclick="togglePackage(this)">
                        <div class="package-info">
                            <div class="package-id">PKG-2025-003</div>
                            <div class="package-meta">Mike Johnson (Apt 7C) | UPS | 1Z5338FF0107231640</div>
                        </div>
                        <div class="package-checkbox checked">âœ“</div>
                    </div>
                    <div class="package-item selected" onclick="togglePackage(this)">
                        <div class="package-info">
                            <div class="package-id">PKG-2025-004</div>
                            <div class="package-meta">Sarah Lee (Apt 5D) | USPS | No tracking provided</div>
                        </div>
                        <div class="package-checkbox checked">âœ“</div>
                    </div>
                </div>

                <div class="warning-banner">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><path d="M12 9v4"/><path d="M12 17h.01"/></svg>
                    Please ensure all packages are secured in your vehicle before proceeding.
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary btn-lg btn-full" onclick="setStatus(2)">
                        Confirm Pickup (4/4)
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                    </button>
                </div>
            </div>

            <!-- Status Content - Delivered -->
            <div class="status-card" id="statusDelivered" style="display: none;">
                <h2 class="status-content-title">Delivery Confirmation</h2>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">Confirm packages have been delivered to the carrier drop-off location.</p>
                
                <div style="background: var(--bg-secondary); border-radius: var(--radius); padding: 20px; margin-bottom: 24px;">
                    <div style="font-weight: 600; margin-bottom: 8px;">Drop-off Location</div>
                    <div style="color: var(--text-secondary);">UPS Store #1234<br>456 Commerce Dr, Hendersonville, NC 28792</div>
                </div>

                <div class="form-group">
                    <label class="form-label">Upload Drop-off Receipt</label>
                    <div class="file-upload-area">
                        <div class="upload-icon">ðŸ“·</div>
                        <p class="upload-text"><span class="upload-link">Click to upload</span> receipt photo</p>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary btn-lg btn-full" onclick="setStatus(3)">
                        Confirm Delivery
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="m12 5 7 7-7 7"/></svg>
                    </button>
                    <button class="btn btn-outline btn-lg btn-full" onclick="setStatus(4)">
                        Couldn't Deliver - Return to Sender
                    </button>
                </div>
            </div>

            <!-- Status Content - Returned (couldn't deliver) -->
            <div class="status-card" id="statusReturned" style="display: none;">
                <h2 class="status-content-title">Return Packages</h2>
                <p style="color: var(--text-secondary); margin-bottom: 24px;">Please return the packages to the original pickup location.</p>
                
                <div class="form-group">
                    <label class="form-label">Reason for Return</label>
                    <select class="select-input">
                        <option value="">Select reason</option>
                        <option value="closed">Drop-off location closed</option>
                        <option value="refused">Package refused by carrier</option>
                        <option value="damaged">Package damaged</option>
                        <option value="other">Other</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Additional Notes</label>
                    <textarea class="textarea-input" placeholder="Describe what happened..."></textarea>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary btn-lg btn-full" onclick="setStatus(5)">
                        Confirm Return Complete
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><polyline points="20 6 9 17 4 12"/></svg>
                    </button>
                </div>
            </div>

            <!-- Status Content - Complete -->
            <div class="status-card" id="statusComplete" style="display: none;">
                <div style="text-align: center;">
                    <div class="success-checkmark">âœ“</div>
                    <h2 class="status-content-title">Route Complete!</h2>
                    <p style="color: var(--text-secondary); margin-bottom: 24px;">All packages have been successfully delivered to carriers.</p>
                    
                    <div style="background: var(--bg-secondary); border-radius: var(--radius); padding: 20px; margin-bottom: 24px; text-align: left;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: var(--text-secondary);">Packages Delivered</span>
                            <span style="font-weight: 600;">4</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; margin-bottom: 12px;">
                            <span style="color: var(--text-secondary);">Route Time</span>
                            <span style="font-weight: 600;">45 min</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; border-top: 1px solid var(--border); padding-top: 12px;">
                            <span style="font-weight: 600;">Earnings</span>
                            <span style="font-weight: 700; color: var(--success);">$12.50</span>
                        </div>
                    </div>

                    <button class="btn btn-primary btn-lg btn-full" onclick="resetDemo()">
                        Start New Route
                    </button>
                </div>
            </div>

            <!-- Demo Controls -->
            <div class="form-card" style="margin-top: 24px;">
                <h3 style="margin-bottom: 16px; font-size: 14px; color: var(--text-secondary);">Demo: Jump to Status</h3>
                <div style="display: flex; gap: 8px; flex-wrap: wrap;">
                    <button class="btn btn-primary" onclick="setStatus(0)">On the Way</button>
                    <button class="btn btn-outline" onclick="setStatus(1)">Picked Up</button>
                    <button class="btn btn-outline" onclick="setStatus(2)">Delivered</button>
                    <button class="btn btn-outline" onclick="setStatus(4)">Returned</button>
                    <button class="btn btn-outline" onclick="setStatus(3)">Complete</button>
                </div>
            </div>
        </div>
    </main>

    <script>
        function toggleMenu() {
            document.getElementById('mobileMenu').classList.toggle('open');
            document.querySelector('.hamburger').classList.toggle('open');
        }

        function togglePackage(element) {
            element.classList.toggle('selected');
            const checkbox = element.querySelector('.package-checkbox');
            checkbox.classList.toggle('checked');
            checkbox.innerHTML = checkbox.classList.contains('checked') ? 'âœ“' : '';
        }

        function setStatus(status) {
            // Hide all status cards
            document.getElementById('statusOtw').style.display = 'none';
            document.getElementById('statusPickup').style.display = 'none';
            document.getElementById('statusDelivered').style.display = 'none';
            document.getElementById('statusReturned').style.display = 'none';
            document.getElementById('statusComplete').style.display = 'none';

            // Reset timeline
            for (let i = 1; i <= 4; i++) {
                document.getElementById('dot' + i).className = 'timeline-dot';
                document.getElementById('dot' + i).innerHTML = i;
                document.getElementById('label' + i).className = 'timeline-label';
            }

            // Update timeline progress
            const progress = [0, 33, 66, 100, 66, 100];
            document.getElementById('timelineProgress').style.width = progress[status] + '%';

            // Show current status and update timeline
            if (status === 0) {
                document.getElementById('statusOtw').style.display = 'block';
                document.getElementById('dot1').className = 'timeline-dot active';
                document.getElementById('label1').className = 'timeline-label active';
            } else if (status === 1) {
                document.getElementById('statusPickup').style.display = 'block';
                document.getElementById('dot1').className = 'timeline-dot completed';
                document.getElementById('dot1').innerHTML = 'âœ“';
                document.getElementById('dot2').className = 'timeline-dot active';
                document.getElementById('label2').className = 'timeline-label active';
            } else if (status === 2) {
                document.getElementById('statusDelivered').style.display = 'block';
                document.getElementById('dot1').className = 'timeline-dot completed';
                document.getElementById('dot1').innerHTML = 'âœ“';
                document.getElementById('dot2').className = 'timeline-dot completed';
                document.getElementById('dot2').innerHTML = 'âœ“';
                document.getElementById('dot3').className = 'timeline-dot active';
                document.getElementById('label3').className = 'timeline-label active';
            } else if (status === 3) {
                document.getElementById('statusComplete').style.display = 'block';
                for (let i = 1; i <= 3; i++) {
                    document.getElementById('dot' + i).className = 'timeline-dot completed';
                    document.getElementById('dot' + i).innerHTML = 'âœ“';
                }
                document.getElementById('dot4').className = 'timeline-dot completed';
                document.getElementById('dot4').innerHTML = 'âœ“';
            } else if (status === 4) {
                document.getElementById('statusReturned').style.display = 'block';
                document.getElementById('dot1').className = 'timeline-dot completed';
                document.getElementById('dot1').innerHTML = 'âœ“';
                document.getElementById('dot2').className = 'timeline-dot completed';
                document.getElementById('dot2').innerHTML = 'âœ“';
                document.getElementById('dot4').className = 'timeline-dot active';
                document.getElementById('label4').className = 'timeline-label active';
            } else if (status === 5) {
                setStatus(3); // Go to complete after return
            }
        }

        function resetDemo() {
            setStatus(0);
        }
    </script>
</body>
</html>
